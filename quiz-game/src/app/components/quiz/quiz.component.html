<div class="quiz-container">
  <!-- Lifelines at the top -->
  <div class="lifelines">
    <button class="lifeline-button" (click)="usePhoneFriend()">
      ðŸ“ž Phone Friend
    </button>
    <button class="lifeline-button" (click)="useFiftyFifty()">
      50/50
    </button>
    <button class="lifeline-button" (click)="useAudiencePoll()">
      ðŸ‘¥ Audience Poll
    </button>
  </div>

  <h3>Question {{ currentQuestionNumber }} of {{ gameService.totalQuestions }}</h3>
  <h4>Correct so far: {{ totalCorrect }}</h4>

  <!-- Pass [filteredOptions]="filteredOptions" for 50/50 -->
  <app-question
    [question]="gameService.getCurrentQuestion()"
    [filteredOptions]="filteredOptions"
    (answerSelected)="onAnswerSelected($event)"
  ></app-question>

  <div *ngIf="isGameOver" class="game-over-screen">
    <h2>Game Over!</h2>
    <p>You got {{ totalCorrect }} out of {{ gameService.totalQuestions }}!</p>
    <button (click)="restart()">Restart</button>
  </div>

  <app-popup
    [visible]="showPopup"
    [title]="popupTitle"
    [content]="popupContent"
    [pollData]="pollData"
    (closePopup)="closePopup()"
  ></app-popup>
</div>
