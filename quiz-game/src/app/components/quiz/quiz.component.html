

<div class="top-tools">
  <div class="lifelines">
   
    <button [disabled]="lifelinesUsed.fiftyFifty" (click)="useFiftyFifty()" class="lifeline-button">
      50 : 50
    </button>

    <!-- Phone a Friend -->
    <button [disabled]="lifelinesUsed.phoneFriend" (click)="usePhoneFriend()" class="lifeline-button">
      ðŸ“ž
    </button>

    <!-- Audience Poll -->
    <button [disabled]="lifelinesUsed.audiencePoll" (click)="useAudiencePoll()" class="lifeline-button">
      ðŸ‘¥
    </button>
  </div>
</div>

<div class="quiz-container" *ngIf="!gameOver; else gameOverTemplate">
  <h2>Ø§Ù„Ø³Ø¤Ø§Ù„ {{currentQuestionIndex + 1}} Ù…Ù† {{totalQuestions}}</h2>
  <p>{{currentQuestion?.question}}</p>

  <div class="options">
    <button *ngFor="let opt of displayedOptions; let i = index"
            [ngClass]="{
              'selected-pending': selectedIndex === i && pendingCheck,
              'correct-answer': showResult && opt === currentQuestion.answer,
              'wrong-answer': showResult && selectedIndex === i && opt !== currentQuestion.answer
            }"
            (click)="selectAnswer(i)"
            [disabled]="pendingCheck || showResult">
      {{ opt }}
    </button>
  </div>
</div>

<ng-template #gameOverTemplate>
  <div class="game-over-screen">
    <h2>Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø©</h2>
    <p *ngIf="currentQuestionIndex >= totalQuestions">ØªÙ‡Ø§Ù†ÙŠÙ†Ø§! Ù„Ù‚Ø¯ Ø£Ø¬Ø¨Øª Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­!</p>
    <p *ngIf="currentQuestionIndex < totalQuestions">Ù„Ù‚Ø¯ ÙˆØµÙ„Øª Ø¥Ù„Ù‰ Ø§Ù„Ø³Ø¤Ø§Ù„ {{currentQuestionIndex + 1}}.</p>
    <button (click)="restart()">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¨Ø¯Ø¡</button>
  </div>

  <div id="playerStart" style="display:none;"></div>
  <div id="playerSuspense" style="display:none;"></div>
  <div id="playerWrong" style="display:none;"></div>
  <div id="playerWaiting" style="display:none;"></div>
  <div id="playerCorrect" style="display:none;"></div>
</ng-template>
